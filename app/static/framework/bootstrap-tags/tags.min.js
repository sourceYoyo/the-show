"use strict";!function(e){var a=function(a){if(a=a||""){var i=this;a.each(function(a,n){if(!e(n).parent("div.form-tags")[0]){e(n).wrap(e('<div class="form-tags"></div>')).hide();var t=e('<input class="input-tags form-control" placeholder="请输入标签"/>').insertAfter(e(n));i.bind(t)}})}};a.prototype={set:function(a,n){var t=e(a),r=this;a.each(function(a,l){for(var a in n){var s=e('<span class="label label-info">'+n[a]+'<i class="glyphicon glyphicon-remove close"></i></span>');s.children("i").click(i),t.after(s),r.value(s)}})},bind:function(a){var n=this,t=e(a);a.keydown(function(e){var a=e.keyCode?e.keyCode:e.which;"8"==a&&""==t.val()&&(t.prev("span").remove(),n.value(t))}),a.keypress(function(t){var r=e(a),l=t.keyCode?t.keyCode:t.which;if("13"==l){t.preventDefault();var s=r.val();if(s){var c=e('<span class="label label-info">'+s.trim()+'<i class="glyphicon glyphicon-remove close"></i></span>');r.before(c).val(""),c.children("i").click(i),n.value(r)}}})},value:function(a){var i=a.prevAll("input"),n=a.parent().children("span.label"),t=[];return n.each(function(a,i){t.push(e(i).text())}),i.val(t)}};var i=function(){var i=e(this).parent().nextAll("input.input-tags");e(this).parent().remove(),(new a).value(i)};e.fn.tags=function(){var e=new a(this),i=Array.prototype.slice.call(arguments),n=this.val()?this.val().split(","):[];return e.set(this,i.concat(n)),this}}(jQuery);